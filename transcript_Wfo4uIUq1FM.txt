Building a DevOps Staging environment for Learn to Cloudjust gave me a hard time I think it
would have been the worst experience oh
I gave you credit for being so bold on
production SQL dude that's like the most
terrifying thing it feels like whenever
I like you know log into like a SQL
Server I'm like I'm walking a tightrope
oh my gosh am I gonna like fall over and
play it yeah
I got too comfortable we're live by the
way oh okay I think this is a good
conversation
but because I I think uh we all have in
common that earlier on we were sort of
in an environment where you feel kind of
safe
encouragement might be too big of a word
but like you knew if you made a mistake
like someone would have your back yes
and I feel like the earlier you have
that the better because then you're just
empowered to go try try try try and then
later on when you move on you go to a
different role that mentality kind of
sticks with you so now that I have like
a different team you know a different
boss I just don't
fear like oh let's go give something a
try because you know you have so many
examples of like oh yeah you know what I
did make a mistake but I ended up
figuring out and then it builds your own
confidence very very important
uh anyway hi everyone welcome
to the stream uh happy Sunday if it's
Sunday for y'all if not happy whatever
day it is for you it's probably like
Monday or something Monday morning or
something
um
yeah feel free to let us know where
you're checking in from in the chat got
recipe we've got CJ here I'm gonna give
CJ everyone knows Bishop so no new for
introduction but I'm gonna have a CJ
like a couple minutes to introduce
yourself
uh and then we'll talk a little bit
about what we're up to for today so yeah
CJ hi thank you for being here my
pleasure yeah so I'm CJ uh if you're on
the learn to Cloud Discord you'll
probably see uh my face and my name all
through the chain all the time all
through those channels it's just like
crazy but um I'm a moderator on uh learn
to Cloud Discord
um day job I am a cloud operations
engineer at a education technology
consulting company work a lot with AWS a
lot with ansible a lot with cloud
formation so you know your IAC your CS
what is it the cicd I I I I I mix up my
my uh acronyms all the all the
abbreviations i i do them sometimes and
um yeah and I think my transition to
that has been kind of
interesting as far as you know I think I
told them off camera that I was
initially a music Major so I did
classical guitar I wanted to perform
guitar you know just as a profession you
know teach and then I just sort of had
this transition where I'm like I don't
want to do that anymore what do I do so
I was Barista for a long time and got
another job I got fired from that job
and like what do I do now I have no like
backup or anything like that and then
um a family friend took a chance on me
doing support desk he's like no
experience no problem come on in and
then
that kind of just led to my you know
more happy accidents in career directory
to become a cloud Ops engineer so that's
that's my intro there nice well
should you being here and all the
answers you provide some very
involved answers it's not just like yes
no like you you can tell that you take
your time so we really appreciate that
and it's very helpful for the community
so we have right here
thanks for the solid answers on the
server CJ so
of course we want to have I want to have
you on the stream for a while but the
thing about these live streams is that
I'm never organized it's always last
minute I'm always like worship like hey
do you want to stream like 15 minutes
before and he's always like sure so we
end up doing them but I would like to
have 2023 the resolution is to be more
organized with these live streams but
anyway
um we're here to answer questions and
then oh we got someone else here
uh I'll add them in a second but we're
here to answer questions but most
importantly we're here to work on some
stuff and get some people some so
first-hand exposure on
what it is that do different devops and
Cloud tasks and we're going to use learn
to Cloud as an example here so
should we first we should first probably
explain what we're gonna do
yeah that's okay yeah probably yeah hold
on so
let's bring up a
like a diagram should we should diagram
this uh what's what's the useful way to
do thiswhiteboard Microsoft whiteboard is
amazing like uh Shameless plug
because you know I can collaborate with
youlet me find let me see I should have
that because I have 365 let me see uh
that would be cool I can so I could send
both a few links to it right yeah that'd
be great
and I have to let my dog out one second
there might be a couple uh extra guests
on the stream if I don't do this
go ahead I'm gonna figure out where it
is
where is Microsoft whiteboard hold on
whiteboard
sorry I was muted search in the browser
it should show up if it's not installedoh apps
yeah sway people Skype safety
rewards whiteboard
I used it for
teaching
okay hold on
I got it free start work it is free can
I use it in the browser yeah right yes
you can use it in the browser
[Music]
yeah here's a tip
if you want to get better
um at drawing stuff like so you know I
used to teach but you cannot
draw stuff really good with the mouse so
what I would do is open whiteboard on my
PC and then open one in my iPad on
browser and then use my
iPad as like a drawing board it worked
amazing
it's good to know well I mean right now
it's not
it's not a browser anymore hold on no no
I just sent it to you oh so I can draw
here yes okay yes okay cool hold on yeah
Nicholas hello Nicholas hey can you hear
me yeah
awesome
welcome welcome how are you give us a
give us a quick introduction of you
yeah uh my name is Nicholas
um
my name is Nicholas and I have been uh
nit for two years I'm a CIS admin right
now at MSP and uh yeah it's fun it's
been fun I like it we're um sis Adam is
that your first I.T job
no my first it job I was a field service
technician and I'm at another MSP okay
did uh what's your educational
background
um I I have too many degrees I have I
have an undergrad I have an undergrad
degree in a liberal in a liberal arts
major I was a black Studies major and
then I went on to uh to grad school for
secondary education okay cool cool did
you did you kind of know that that's not
what you wanted to pursue in a career or
was it out of like necessity that you
switched into it or I switched into it
because I was I was just really stressed
I've been wanting I wanted to have a
better quality of life and I knew I
wasn't going to get that teaching in
public schools uh in New York city so I
oh you're in New York made the switch
Yeah
I don't live it I don't live in New York
City but uh you know I live close enough
that I work and play in New York City
you can consider it New York City yeah I
feel the same I actually don't know what
New York City is it just Manhattan
is that what it's it's considered it's
considered so New York City is
considered the Bronx Manhattan Brooklyn
Queens and Staten Island that's the city
okay so I guess I technically am I'm in
Los Angeles I'm Queens all right cool
yeah anyway welcome
rishab do you know Nicholas
no from the uh from from discard yeah
yeah yeah my my name is chain links in
the in Discord yeah yeah okay cool
because I think I know you're from
LinkedIn to Nicholas I think we are
connected there oh yeah I think we are
yeah yeah the thing about the internet
is I don't be knowing anyone's name I'd
be knowing you yeah yeah yeah I'm like
is that chain links hold on yeahsee that's what I'm not really good at
is like everywhere my name is rishab
Kumar seven that's it yeah it's easy to
find me yeah no me too if someone tries
to do like opsec on me it's really easy
to find stuff
I know it's like awesome like I don't
know Richard if you have like trouble
even like trying to figure out like a a
pseudonym or like some name that you
want to give yourself you're like what
do I do Elite code seven I don't even
know I don't even know yeah I used to do
it earlier like Reddit and you know
gaming stuff I would call myself
Deadpool because I'm a huge fan but then
that name is most of the time taken so
yeah chain links is the name that I've
got that I've kind of like just kept on
from my childhood definitely like my
friends in high school used to call me
and uh yeah that's just kind of stuck
and similarly whenever I make accounts
anywhere chain links is always taken
like okay guys yeah I'm the real chain
link guys
I'm the real one all right cool so we're
gonna whiteboard out what we're gonna be
working on today sweet oh I put the link
if you hit the private chat the
Whiteboard link is there so you'll be
able to open it got it but what I have
in mind is sort of like I guess we oh my
goodness I'm I'm so bad at drawing maybe
we use air like like this like this is
our cicd pipeline I guess gotcha and
then
um where is our Tech where's the text go
oh here we go
so we'll call this CI CI CD on on Main
okay
uh yeah whoops why how do I grab this
individual okay I've never used this
before
this this Microsoft whiteboard I was
going to use um
what's the the one that looks like hand
handling yeah yeah that's the one yeah
but I guess this one's good too
souh let's see what else we have to do
okay so hold on I guess I can select I
can't multi-select yes in one no
oh my goodness okay so what I want to do
is duplicate all this
is a way to grab it like uh just hit
control I thinkand then you'll get a box and then use
that box to likecopy awesome yes okay so
at the moment what we've got going on is
we have
our our app our code our source code
for
live for like uh Version Control lives
on GitHub so that's if you go to
github.com forward slash learn to Cloud
forward slash learn to Cloud I think
um or if you go to our websites on the
top let's go there it's this thing did
we fix that Discord link
no no but anyway here uh so this this is
our source code right so this is the
learn to Cloud application so that lives
on nope right here that lives on GitHub
here
now we have a cicd pipeline that when we
have pushes to our main branch so
branches in in git in general I guess
not just specific to GitHub allow you to
have multiple copies of your same code
but that way that enables collaboration
so I can have my own Branch where I'm
working on something Richard can have
his own Branch where he's implementing
something else and that way our main
branch is just what is meant to be
deployed to our production environment
in azure no
if this was like a small application
where it's only Richard and I working
the entire time
even then I don't think just having
Maine is enough
uh usually you have
like just a bunch of different branches
and then when you're done implementing
whatever it is that you're implementing
per Branch you'll remove it you'll merge
into Main and whatnot but
what we want to end up doing now is we
want to enable
uh people who want to get a Hands-On
with clouds Junior entry level whatever
people who are new to cloud and need
production experience we want to create
a staging environment Within are are I
guess learn to Cloud application
or devops practice whatever
so people can merge their uh their own
so they'll open up a PR we can merge
that to a staging environment first and
then that'll be a staging branch and
then we'll have cicd that we'll push to
a staging environment so the actual if
you when you go to learn to cloud.guide
nothing is impacted there because that's
just showing what the main branch is
but this also gives people the
opportunity to okay you merge something
you can see it in production you can see
it working but none of the traffic is
actually going to that application
um now
right before we went live we I was like
you know what I don't know how so again
this is going to be we're gonna call
this like cicd on staging something like
this
so this is pretty much pretty
straightforward because essentially you
replicate what you have here but now
what we have to also figure out is okay
so once we everything passes on staging
how do we get that back up to our main
so that's what we're going to be
figuring out today
in terms of like Tech this is
GitHub actions which is yaml
that's it right that's all
yes that's the only thing we're going to
be using today we might have some other
PR depending on how long it takes us
like I mentioned right before going live
we were like this is the thing we can do
right and everyone was like we could
probably figure this out so this is the
goal for today's to figure this out if
we can't figure it out at some point we
will maybe we'll have to do another
stream maybe we won't accomplish it
today we might figure it out in 10
minutes and then we can go to taking a
look at other PRS that we have open
other issues or just hang out and chat
we have usually we just do these streams
between Richard but myself but I've
always wanted to have more
uh you know friends I've learned a cloud
or community members on here so we have
Nicholas here we have CJ here people who
are always in the chat kind of like are
always in the Discord answering
questions participating
um so should be cool
uh we have a question ready you're gonna
answer this one are you following a
particular branching strategy like git
flow for example
yeah
um this one is for I think it's called
github's workflow let me find it out
um this is the ex exact strategy that we
used for any of the devops uh related
Source control code that we had in my
devops gig I researched I think and I
wrote like a really big article on this
for for that company on like different
git strategies and why this is the best
because we didn't have you know
like 15 or 20 developers working at a
time we won't have bugs because all of
these not
as in we won't have bugs but we the the
products that we created are the tools
that we created were used by internal
teams it was not customer facing so we
knew that we won't have yeah we won't
have much uh branches or issues that we
will be working on uh being said that we
already kind of follow this with with
our learn to cloud is I know Gwen needs
to get better at this but
um I'm not I'm not following me outshe she owns LTC so she can merge to
main directly I get it but
no I didn't I did say last live stream
that I promise I'm going to stop work
because my issue is like I I think
because this past year it's all just
been you know docsify GitHub Pages yes
I've cared less so it's like oh just do
it straight to main but that is not what
you should do don't follow my example
with Gwen I trust her that she won't
break prod
um
yeah she she is you know responsible and
but yeah for any of the community stuff
or the these issues that I might be
working with or even Gwen or CJ or
Nicholas will be working on what we do
is there should be an issue open firstly
in GitHub and you either take the ticket
name or the issue name and name your
branch
um with the same name whatever the issue
is so today we will be working on you
know staging environment for Azure
static web apps so we'll name our branch
that and then once the pr is created it
gets merged to main
um the thing is I added that we do have
PRS that can be seen as previews in
static web apps because static web apps
support that uh the good thing about
that is you get as soon as you create a
PR you get an email with the static web
app link that we did saw in the last
live stream
uh I think so yeah yeah we didn't show
that yeah okay
um but
what we want to do is read like an
Enterprise level get strategy where
nothing gets merged to Main
before it has been to the staging and
has been tested
um so in the future we'll definitely
build some tests that will be written
again in GitHub actions that are
performed on the staging
um
environment so for example one of the
tests could be scraping all the phases
and looking for you know if the content
exists or not right every phase does
load or not uh the translations are
working the URL paths are working it'll
take time but this is the vision we have
for learn to cloud and
um it starts with the correct get
strategy
um yeah yeah definitely if you
uh have hope of
like a want to get into like a devops
related role or even like something like
a junior Cloud developer maybe
developer-centric devops Centrics kind
of role understanding how git and like
staging environments different
environments works and like cicd and all
these types of things is important uh so
we hope to give you a kind of like
insight into how that works right now
we're not experts we have Acro I mean
let me take a look we got assist admin
here we got a cloud Ops engineer and
we've got two people in Deborah so we're
gonna we're gonna I don't know it seems
like it seems like like the beginning of
a joke yeah you think how many yeah how
many people will it take to uh get a PR
working yeah
uh but yeah everyone do a favorite hit a
like on the stream I like to set goals
for live streams so let's try to hit 50
people live it's Sunday night I know
most people probably like relaxing but
do me a favor hit a like share the
stream with people uh and then metaphor
who's always in the Discord chat is here
as well saying what's up so what's up
metaphor
um cool so Richard do you want to share
I guess I can share
what what we currently have so again
yeah we can start with that GitHub repo
uh again if you go to our site it's on
the top you can just hit GitHub top
right here
and as you can see I'm on Main here if
we go into where is where I guess I can
go into click GitHub here the dot GitHub
folder and then go into workflows these
are all our cicd full uh actions and the
one that is for our main branch that
pushes to
our application in production it's this
top one uh what is it called
uh Azure static web apps agreeable
Forest it's it was it was generated by
Azure static web apps now as you can see
it will run when there's a push to the
main branch so it's only working on this
one right uh it's pretty straightforward
actually and then it ends up in azure
hold on a second let me open up my
portal let's switch to this view here
let me open up my portal and I can see I
haven't checked how much I like to do
this thing where I check daily the price
of or in a cloud
let's take a look at it and then I can
show you where the stuff is deployed
uh switch
holding where is this this one yeah here
we go Okay so we've had on average this
is
I think this is past five minutes no
what is this
pass where's the time oh okay past five
minutes 693 sight hits
in the last 48 hours we've had
37
560 and then the last week we've had
181 000 side hits so that doesn't is
cited and actual visits are different
because you can have multiple side hits
um per page but on average just kind of
give us this idea how much traffic we
had around the 10th we peaked around the
10th at 11 30 and then it's been pretty
steady since then
so
let's take a look at the resource Group
and I can take a look at how much does
this cost so far
uh uh where is cost analysis herelet's give this a second we want to make
this page uh we found an API that'll
help us make this public so we can have
updates every like 24 hours and people
can take a look so all right it costs
three dollars so far in our forecast
Richard remember I said it was gonna be
30 a month it's for 21.33
if we keep sort of similar traffic I
have a feeling that we're going to
probably get more so I still think this
number is going to hit 30. uh our most
expensive region is the uss2 then U.S
Central and then U.S West too it's a
pretty big difference between these yeah
um these two here
whereas I think it'll hit that fifty
dollars
um I think we're gonna hit 50.
yeah yeah what we are at January 15 we
are already halfway thereuh yeah you're right but the fork our
forecast saystwenty one dollars twenty one dollars
maybe February we'll hit 50 I don't know
so my goal is to I get a hundred dollars
monthly credit
so we can hit that fine I think that'll
get us a long way
but once we go over that then I'm gonna
start being like okay
this is turning into a full-time jobuh James says learning devops myself
it's awesome it's awesome nice uh let's
see Okay cool so let me get this off
screen and then you can kind of take
over to see where you're at but as you
as always people feel free to ask us
questions
feel free to ask us questions in the
chat
um we're here to hang out and get some
stuff going let me get my stream yard to
the side
uh we got a question here
would this mean you would have a branch
for each Dev environment stitching one
staging two prod Azure web apps for each
and no one would be able to push domain
kind of the goal is to have so the same
staging environment like we can have
multiple branches for whatever reason
but we'll have one branch that will
always be like the staging environment
and then that is what people will merge
their PRS into I guess we will merge
Powers into and then that goes that sort
of puts the code through all the proper
tests and things like that and then it
ends up in like that staging environment
and then that I guess that gets promoted
to Maine yeah yeah so yeah
um so you won't have staging one stating
two branches you will have staging but
then your branch name can be anything
and that also goes with the environment
so you the dev environment is called
staging so we won't have you know like I
saw the example say staging one stating
two and prod
um whereas we only have two environments
one will be prod and then one will be
staging
um the reason being because
as I just said you can have previews in
static websites so each PR that gets
created you'll get your own preview even
under the staging environment so I don't
think we have the need to have stating
one setting two and prod uh instead
we'll just have the the concept we have
in mind is Dev and me like prod so Dev
is where all the changes get pushed gets
tested everyone who created a PR will
have their own preview they can look at
it they can ask for the feedback right
and then so that is what we are trying
to get away from is people
um you know
contributing and having to run it
locally and then asking for feedback you
know you as soon as you merge it to
staging or open a PR first stating
you'll get your own preview that you can
share publicly with
the LTC community on this card and get
feedback that would be sick because like
I think the the sort of friction between
learning anything in Tech that isn't web
dev is you know when you create a
website like you can kind of like
instantly see what you've done in cloud
and in like operations and devops all
those types of I guess Fields is tough
um to kind of replicate that same kind
of not not instant gratification but
that kind of that visual feedback so if
we can have you know these environments
that as soon as you make a change and
you can see it live like oh I made this
like I worked on this I think that would
be really cool someone asked about
uh good evening are you using any track
any tools to track changes slash files
you're looking to push and yeah if you
go to learn a cloud on the top left here
you have LDC roadmap and this has uh
that leads you to a GitHub project that
has all the issues that we have on
right now we probably have to add some
more in here
so what we're look what we're working on
today is this one here
oh my bad
um okay no no worries yeah we're working
on number 88.
wow we're already at 88. wow okay yeah I
opened the pr today it's an it's the 100
PR how lucky I'm what we should we
should
chooseI'll bring to that once it's getting
worried
what is it what is it oh it's the edit
this page feature that opens a PR now
oh you did it already yes it was it was
easy after I read the documentation read
documentationwell maybe we'll get to that after we
figure this out but yeah if anyone wants
to sort of hop on any issues just leave
a comment there hey I would love to to
work on this one uh and then we can help
facilitate that work as well okay cool
uh uh Richard you want to share your
screen
okay yeah
um just to go back to Jared's question
uh I shared the link in the
YouTube chat I don't know if links would
work but yeah this is the strategy We
are following or really close to the
strategy
um the good flow so I'll just show
quickly the diagram here so this is how
it works you get the idea we built a
pretty similar diagram on Microsoft
whiteboard that Gwen was sharing
um so the purple branches here shows you
the staging in our case and then
um the V the version one here you can
see is like the prod for this particular
example that they're showing so main
will be proud always and then anything
any feature that anyone wants to work on
will be the purple branch that you can
see on the diagram if anybody is
interested they can look into this about
the git workflow that
I'm not I'm not gonna I'm not gonna
merge your PR until you close your tabsdo you see the windows at the bottom now
yeah hold on let me move this this thing
here along this wait now which one is it
I guess it's this one here no tell me do
all of those have like 50 tabs as well
yeah not all of them
this is this is the main window okay
good yeah
um so let's open GitHub I just wanted to
go over the
action and let me know if it's too small
yeah it's too small okay let me open up
the workflow here real quick[Music]
is it good
do like two moreI think that's good I am yeah
okay chat chat let us know if you can
see that fine
okay
so
this is how yaml looks for people who
are not familiar with the yaml uh
like the visuals and in the syntax and
so I can quickly go over so as you know
the action name suggests it's the Azure
static web apps CID CD right and you can
see
um the branches it's currently looking
at is just main right so if there is
uh any pull request that's to the main
branch it creates a preview for it
before it can deploy it to
the actual main site and then any push
on the branch itself like you know we
were talking how
um so let's say Gwen has a really quick
typo that she wants to change so she can
do that to the main and it will deploy
that or this action will run
um for that uh change that Gwen did
and talking about jobs these are the
actual jobs that the the GitHub GitHub
actions is responsible of running
so you can see a couple of Secrets being
imported here
um so we don't want to disclose any of
the secrets so we use
um there is a functionality built within
GitHub repository that you can store
your secrets in and you can access those
by calling secrets.github or secret
start whatever your
environment variable is
so our application is root so all of the
docosaurus stuff resides in root so it
usually looks for package.json right now
since it's a react app and it looks at
the output location called build so if
we do a npm build right now locally what
it does is it gives us a build folder in
root that contains all of the website
contents that you see on learn to Cloud
so that build is what gets pushed to the
static web apps in azure
and you can clearly tell there is no
mention of the different environments
that you want to set up
um different branching strategies that
we were talking about is just only
concerns made right now so if I I have
pushed my code to implement CI CD Dev
environments so this is what we were
talking about so you people can have
different branches named according to
the feature that they're working on
and
you can see already there is a change in
the uh action here where the branch is
now included are both Main and staging
right so now anytime a push
is sent to the staging Branch it will
deploy
those changes to the staging Branch now
what we have to figure out is the
environment part of it so how does that
create get created in the Azure static
web apps that we have to deploy
a new
environment in the portal or do we just
run this action and it will do that for
usbecause it's the same
static web app right if we create what
if we created
no because ideally we wouldn't want to
have to create another app we would just
oh wait no let me think about this
because the thing is that you're still
using the same web apps API token and
that's what I'm curious about like if
you're using the same token to deploy is
it going to just rewrite over learn to
cloud and then like your your learn to
Cloud uh dot guys like oh my gosh yeah
so as far as I'm aware the static web
apps has environments
um
like the environments uh functionality
built into it as far as I'm aware I
could be completely wrong but so far
so
I I read this on the action
documentation
um the GitHub action documentation that
I was building uh
so this is where you see the so this is
the Azure portal for learn to cloud and
you can already see the previous
environment so you see that yesterday I
added the discard link and as soon as I
created a PR it created a preview for it
and you can basically look at it and
same thing for the edit page feature
today but as you can see the environment
right now we only have production here
so that's what I'm not sure about is can
we have staging in hereJames asks a good question no we need
two Azure stat Azure exactly rightyeah that's what I was thinking about
last night like I woke up in the middle
of night like what yeah
cold sweat oh my gosh yeah
that's all we'll do what I usually do at
my job is Googling yes we have a we have
a while you do some Google's rishab we
got a questionnaire which one is
beginner friendly python to go CJ you
said you do python I would say yeah
python is very beginner friendly
um yeah I think it's just easy to read
and understand
um yeah I think you can't really go
wrong with python and honestly what what
kind of job are you looking for Ali I
think that the also a question too I
mean it's good to have a base language
but then you know if you want to build
off of that I mean you can you can go to
go I've tried to experiment with go a
couple of times
um it's sort of it's a similar
it goes you know it's really it's really
hard to hard to say to be honest I mean
it's it's great I love it but it's on it
it's hard when you're I'm sure I don't
know Glenn you're probably like doing
this I know you're doing like rust and
stuff too but sometimes it's hard when
you have a language that you know and
you kind of work with it day to day and
then there's that one where you're like
I'm kind of doing stuff with it but like
I'm not really like learning to that
like next level to become even more
proficient so I'm just kind of like in
this tutorial land I feel like I'm kind
of in tutorial and with go I feel like
yeah I find it hard to
find some like actual application to use
it for outside of just like learning I
think that was
how I became proficient with C sharp was
because I was using it at work and then
I could actually see like in a real
like it's like in production like how
it's actually working and I would also
have feedback from other Engineers but I
think that's why a language like python
is great for for getting started because
there's just so much community so much
oh for sure and I don't want to I don't
want to even just tell Ollie not to
learn go as a first language I mean look
people have different first languages
all the time some people learn Java some
people learn C sharp some people Learn
Python I think
honestly kind of go with your gut you
know which one you want to choose
sometimes it's almost just like what do
you like like what what what are you
drawn to what do you want to learn more
sometimes as well so yeah
I'm going to get wrong answers only all
right you got to learn command prompt
and Powershell
you've got to learn basicallydo you have a any program experience or
what's like I'm sure you do some
scripting
um I I'm basically just trying to you
know become a Powershell wizard right
now that's great you know like uh I I
actually do really enjoy it it sounds
like sadomasochism to say you enjoy
power Zone it makes no sense sometimes
but yeah what about it do you enjoy and
I like like let's get into the details
I think what I enjoy is that I'm just
discovering how powerful it is you know
it's kind of like that that honeymoon
stage like oh wait I can do this in
Powershell you know what I mean so
that's that's kind of where I'm at
that's awesome yeah yeah and uh at the
MSP do you have any like a cloud
exposure
oh yeah I mean I uh for a lot of our
clients they're kind of there's they're
moving into into the cloud to Azure
specifically uh so like you know right
now
um a lot of a lot of the clients that
I'm I'm supporting they're they're on
Prem but you know they're they're slowly
moving to the cloud and I I hope to be a
part of a lot of those those projects
I've already expressed interest in doing
that
um but I do see the Azure portal pretty
frequently in Office 365 pretty much
every day I do like active directory
stuff oh yeah yeah I mean active
directory Azure portal and then
Powershell you got like a powerful combo
that when you do move into more more
Azure stuff yeah yeah I mean that's kind
of like the bread and butter especially
Powershell you can do everything
perfect yeah I I query the things I
query Azure active director for
Powershell all the time I find that
amazing that's awesome you know yeahexecutive directory but this is why I
tell people all the time is when you go
to the portal and you go to any open up
any service in Azure I don't care what
whatever it is
on the left side there's always a space
for active directory because identity is
part of absolutely everything and if you
can know it in and out especially if you
can automate it
you're good yeah you saw it well he says
Powershell is your best friend and help
desk I did um not Powershell
what's there's like another one uh
before Pop I guess it's command prompt
yeah maybe that's just like that's CMD
right yeah yep yeah yeah yeah I think
you can make batch files yeah
I had a friend who did a lot of that and
then I then I remember thinkingI'm A bash person uh cool so
yeah do a click Ops on that button CJ
hey there you goBishop how are we doing I
mean yeah walk us through your like okay
yeah walk us through your like Google
food like what are you doing I'm already
at Reddit so you can seeit it is not going well
um okay I'll tell you where I'm at right
now before we read this Reddit post
um
so I did find out and shout out to
Anthony
he did have a tutorial on
um I don't go in knows Anthony oh yeah
yeah shout out Anthony yeah
um he did a tutorial on Azure devops and
Azure static web apps so turns out when
you pick Azure devops as your deployment
setting hereand I show you what I mean by that is
and you set up pipelines you can set
directly staging and production from the
pipeline settings that's it we're moving
over to Azure devops
F GitHub napkin
so
does it show somewhere I think I saw
this too when I Googled
yeah yeah so you can also password
protect which is Awesome by the way um
your
you know
marriage thing like what's getting
pushed out
and this is how it looks for
the
Azure devops side so I think I we can
find the hack to make this happenum because
what static web apps does mention is if
you go here and you look at stating
environments it says automatically
create a new staging environment with
pull request which we already are doing
the thing is those pull requests are
against Main
so
to
Gwen's point or someone I think
mentioned in the chat too that we might
need two static web apps the two okay
which wouldn't be a big deal because
there's no traffic hitting it so it's
probably going to be very inexpensive
yeah we won't have and the good thing
about that is we could have something
like you know
dev.learn to cloud.com[Music]
instead of you know those random URLs
that you get and also we can leave it on
like the lowest uh tier of static web
apps because you know you're just here
to just look at the changes and stuffso will it create a new so I know you're
saying how it'll create all those new
little step static web apps every time
somebody does a uh request or I'm sorry
does the pr so is that going to do that
against the stage if we do a new web app
it's just going to do it against that
one instead of me okay exactly and then
we can
turn off turn this off on our production
website like we don't need staging
environments
how do I get the
fix we want in Maine to Maine from
contributors
that's when you merge from staging to
prod or like to main so that's the next
step we have to figure out PR on staging
would that be from us or we have the
same user like okay now open that
oh I see what you're saying sorry no no
I didn't get it okay cool so we have
okay let's say CJ opens
um a PR and we we put it against staging
right it goes into staging it it goes to
Dev dollar into cloud.guide right so
it's there but what about the awesome
feature that CJ made that's now in
staging we want to get it to Maine how
does that happen so either we can have
automated testing in a GitHub action
that tests all this stuff on the staging
environment and then merges that to Dev
or to main or we can have manual
approvers like you and me who click on
the button to merge those staging
changes so I remember this happened
with us but we needed a manual reviewer
every time
um so at least one human being who
presses yes merge staging to prod so we
can go through that approach right which
will cause
um the community like there will be some
weight for
the community members to see their
feature in prod it won't be like rapid
but again
I don't know how much that's you know if
it's worth the extra minutes and saving
us the hassle of merging malicious code
yeah yeah no I think the manual is a
great uh idea recipient like this is
almost like a good principle of like you
automate until it hurts like you're like
you don't have to automate yet but you
can wait until it becomes like I don't
know what the what what's the problem
going to be when we were like crap we
have like 500 people wanting to merge
into learn to Cloud right now and how do
we all like I'm gonna click through
everything I I guess you could see the
could you see that happening
everywhereI think it's also a good
filter Gwen
to not get those like especially like
okay let's talk about Oktoberfest let's
say we get 50 PRS all of those 50pers if
we have automated testing and automated
merging to main will get included to our
production website
right so in those cases I think manual
does save us because we can be like oh
no like we don't want this even though
like tests went good and stuff but this
was not a significant change or you know
this is what we are looking towards
gotcha okay makes sense
and if we get burdened
I feel like we do have you know good
Community contributors who we can add as
you know CJ yeah exactly like mods on
business
as mods on GitHub this is our way of
saying that you're going to start
approving peers
I was Googling it's okay
okay so I'm gonna
make sure we
draw this out
so stagingLTC
l2c no
I usually say I I usually use T to
abbreviate LTC
well I kind of like that too but that
kind of sounds like a like a sports
drink
it kind of looks like a
do we want to launch a sports drink
there's like an oh learn to hydrate oh
my gosh yes
for your long study sessions oh yes
it's over once again
best period will learn to Cloud guideoh that's hilarious look at us I'll wait
for that PR to come
[Laughter]any questions that we missed here I feel
like a souluh no I think we're good
adminthis is the closest I could get
to a user yeah oh yeahumso how do you feel about the
architecture Gwen
how do I feel about the architecture I
feel like it makes
perfect senseI got the mod hold on
I got the motto for when you get into
the bottled water business straight from
the classI feel like now we have to do it because
it's like uh it's like a bit now
that's hilarious
it's great I love that that's how we pay
the hosting Bill yes bottles yeah get
like the you know like oh yeah
at some point that's what I was thinking
the other day of like oh if this does
become like above like my my monthly
credit like well how are we gonna tackle
that because we don't ever want to make
anything paid but moving into like
donation land is then you got to be like
an LLC and all that kind of stuff gotcha
and then there's paperwork and taxes
yeah how does the like the GitHub
sponsorship thing works like you know
how you have GitHub sponsors yeah yeah I
think you need to set up as some some
kind oh you have yeah like fill out text
stuff
paperworkbut we'll probably have to
figure that kind of stuff out
um for now we're good but I don't know
how long okay
so this is where we are uh right now
cool PR's PRS that so instead of Maine
it shouldn't just connect up
so human yeah like it should be the the
stuff that I was building here yeah yeah
that should push into that yeah yeah
it's so hard to edit thisiPad works so great because you can
touch stuff
I use draw.io for my diagrams yeah yeah
I used to use that a lot
um but I was telling Nicholas I was
telling Gwen prior to this
um so when I was teaching I used this
because it was free and it has a team's
integration
um and then I would open like the same
tab on my iPad and can like hand draw
really good yeah
yeah I could see how that could be
convenient for sure
yeah and now it's all messed upyeah we Windows really needs better
like touch
first devices like an iPad like I have
the um
the surface book three it's supposed to
be like a really high-end machine but
that thing is crap
don't get me started on surfaces man
yeah they're like I don't know what they
can't get right with those things but I
mean there's a lot of potential I feel
like because you have like native
hardware and then native operating
system yeah kind of like the Mac
yeah I think yeah I'm really excited
about like arm stuff now with yeah the
like the dev kit that they build looks
amazing because it's only like what 600
500.
um with 32 gigs of RAM and I've been
seeing good reviews about it so
um
but yeah I use surface 3 I think it was
pretty old
um
like it always sounded like a jet engine
I don't know why even though it was not
turn it on yeah yeah it's like it's just
every
time it's on the because it's supposed
to be a talent as well the the placement
of like the headphone jack is on like
the top of the screen on the top here
yeah so your whole wire runs this whole
thing of just being it's like so
uncomfortable
it's very uncomfortable but
shout out to service team
a lot of love for y'all I'm sure you'll
figure it out a lot of potential there
uh what do you drink peered with the
cloud cloud to brain easy oh my goshthat's the contender right there
I like the straight from the clouds
that's a really good one that's a really
catchy one
okaydid we get it
yeah I think this looks good oh it was
too much work so I'm notI know I stuck this intoohcool
you can just draw I think it's better to
just drawnice gotcha a lot more elegant you knowthat is justI'm not really good at knowing when it's
sarcasm and when it's like actual actual
you know
compliment it's constructive sarcasm
yeah that's awesome okayum so yeah I think the next step would
be
to create the static web app okayand me changing my Branch locally to the
one that I was working on uh got it
kind of leads in nicely to how you have
it deployed to begin with so then we can
see yeah I'm not even sure how I guess
the how you guys do aiac or anything
like that so this will be great
uh
yeah so we don't need this so
yeah I think Gwen will need another
action that deploys to staging
and
um yeah and then we will need to edit
this action to only deploy to main once
staging is donewait hold on I'm confused we need an
action that will deploy to staging
so but when we generate uh a new app
we'll have that
so yeah
the other part is we remove staging uh
we remove previews from the main site
so we remove previews from this site so
um this pull request block that you see
here
we I think we can completely remove that
no
because we will still yeah we will still
merge from Dev
or staging but then that means it's a
push to main so yeah I think we can
remove this entire chunk
but
that means every we're gonna have to go
through staging as well that makes sense
yeah everyone goes through staging yes
and then still you need a human uh
approval to be merged into Maine and
that's when you will see the the changes
liveokay okay cool okay
um yeah so I think I think this should
work we'll see one way to find out
and the the other thing is we will have
to update our
yeah we'll start by creating
um stuff okay so we'll create a static
web app
when do you want to do that or am I okay
too okay cool go aheadjust one just one
what are you doing oh grafana cool yeah
that's gonna be a fun project oh that'd
be funexperience with grafana a little bit and
it's it's I can see where the power lies
in it are you gonna do it for uh learn
to Cloud just to get like metrics and
all that oh fun yeah and I had
experience but I was telling Gwen like I
need the the
those are Rusty now yeah because I used
it like a year and a half or two years
ago so funny enough I had to go to this
article Gwen
that I wrote
wow installing grafana and serving yes
indones
so take notes people yes the life you
save may be your own like right yeah I
love that and the first thing it
mentions Gwen so this is the extent
where our friendship goes I think
nice it says hope everyone is doing
great it's been a few months since I
published an article I was busy with
getting more YouTube videos out and did
I mention I was on the Microsoft reactor
session with Gwen my goodness this was
this was like 2021 wow
I feel like though I
part of me was like oh that was in the
fall but it was last
yeah this is last last year oh my
goodness crazy oh the month crashed into
each other
wait I don't
we have the branchthe Implement cicd stuff the the yeah
what branch am I because I right now I'm
picking the organization repository and
I have to pick the branch
which branch am I using oh yeah you're
right so let's start with creating a
branch
um it's going to learn to Cloud
create
ah
a branch
you got it you could do it new Branch
um I didn't know how to create one in
the UI I just use yeah that's why I was
so confused
um
stating rightI think that is the right spelling so
create branch
okay yeah pick staging nowyeah the goo is confused everyone even
you know at the msps you know like where
you're still used to doing everything
from like a command line yeah you know a
lot of cloud tools for the networking
yeah it's just so much am I straight
forward yeah I was gonna say like they
could have added you know like ad Branch
here
um right yeah like it would have made
sense but no so you have to click on six
branches click Ops click UPS wait or do
we do we use a build preset like react
and yes react react okay yeah that just
helps a lot hold on let's switch to my
stream because yeah yeah it'd be great
to seeuh
present your screen share this one hereokayfree CS2
GitHub and staging what's our app
location yep root you can leave API
blank and the folder is built awesome
okay
so this generates
a yaml file
oh look at how the heck am I supposed to
we can look at it after you oh there we
go zoomed in okay
it should be the same pretty much except
it's different branch here yep yeah that
looks cooldo we have
Africaalways tag your resources everyone
that's like a good tip always yep
it's great I was like how many tags
should I create and then I was like okay
let's just name what this is like this
is alone to Cloud so yeah I know one
thing we do at work is we actually do
the uh git level or like the gitlab link
or like have the link of like where if
you're having multiple projects it's so
good to be like where is the source
control here where's the git yeah you
know repository it's a great one too
I found it the hardware because we used
AWS and remember how that's your mistake
watch it watch it I mean technically
we're like two Azure to aw I mean
Richard you're kind of all over the
place so you're not really like AWS all
the time oh no no I was saying about
past right yeah majority of my work
related stuff was AWS until like the
last year
um
and yeah like if you didn't tag your
resources they were so hard to find
especially like oh okay we have a VPC
does it belong to this ec2 instance of
course you can find it by looking at the
UI and clicking things but
foreign[Music]so if you go to learn to Cloud
although they'll get repository like the
GitHublet's show people that it automatically
added a git workflow for us
so if we go here and then we go to
staging
yeah
oh actually no we're supposed to go to
GitHub go to actions yeah
flows
it's this one here but yeah we can go to
actions as well
and it would be we should probably name
it something else yeah I'll change the
name with my PR but it's this one here
yep
you can open it up it'll show you the
exact like steps that it's doing right
nowyep
build and play cool
uh too cool so that's that's all I
needed to create right
yes I wanted to fix your your thing here
but you can take the screen if you need
to I'm gonna fix here
because we don't need this anymoreoh my goodness how do I select here we
go okay
so now we move this here let's see if I
can do a bit I can do a better Arrow
thenso this ends up not being here doesn't
this end up beingthe where does this Arrow connect to
because there's we still have cicd we
don't have previews anymore on me like
that's the goal
previous hereour goal is to get this here
to connectto hereand then that goes to productionis this supposed to be a branch or an
arrow
which one this this here
this is a branch
so that's okay that's not bad I thought
you were trying to make an arrow
so but I feel like it probably makes
more sense if we do this
this way and then can you flip no
flip this oh my goodnessit was like uh
like this branch
a circle andpreviewpreviewbeautiful and then
rectangle
they don't have shortcuts this thing
doesn't have shortcuts come on
uh like thatall right cool so that goes there okay
we're kind of getting there with thisthis
oh my they don't connect either come on
Microsoft whiteboard I feel like this
should be better with this should be
better whiteboarding functionality here
thiswe love you Microsoft 514.this is constructive feedback
how to grab just this
are they grouped no ohthis goes here and then
but I want to grab just thisokay you stay down here and then you
come hereokay here we go that's something all
right
PRSGitHubPride why is this here prod is over here
staging staging preview stage because
this kind of makes sense
I'm very like
like a Perfection perfectionist when it
comes to diagrams so I'm sure I'm going
to come into this later and just like
give it a makeover
but I would like to keep a track of
these for each session that we do so
people have an idea of
like visually cool so our staging just
got got deployed cooluh cool it just finishedicy Rock like that that is the name of
our water
oh my gosh
I see wrong yeah let me get we get to
enjoy it's just the name of our oh my
gosh it's just the name of our static
web apps like the random name yeah oh my
gosh it's perfect
so anyway here's our staging we can
potentially uh oh I was thinking
but we would probably have to change
although we might be able to have act
remember it should be said we could have
like builds or PR or something that'd be
cool that'd be cool but that I don't
know if that would requiresource code crop yeah that requires
source code changing to the footer to
include whatever Branch it was merged to
and then involve that into the action
because only then it'll know that it
happened
after I was Maurice
I'm starting my first job as a junior
devops on the 23rd seeing the dynamic of
everyone working it's nice to see I'm
getting really good practice at nodding
along and acting like I know what's up I
know right[Music]
umso uh uh my Branch okay
should I switch Yeah Yeah
coolso what I'm doing is remember I removed
a bunch of chunk of code from here that
did the preview stuff for us in the main
our produced
PR previewsI'm gonna commit that
then push it to my branch
what I also have to do is merge Gwen's
staging Branch now into my code so I can
see the both of the actions under
workflows
um and I believe I can do that by get
merge
stagingnot something we can merge hmm
let's do a good poll wait what are you
trying to do
yes
and now let's do get merge region
stitching so I'm merging staging Branch
into my uh
feature Branch because I want to see
both of the GitHub actionsthere we gookayso yeah this is our staging action and
then this is our
prod
action so we'll rename this one to what
do you want to call it proud cicdyes
hmm
prod in caps prod yeah
okay
save that
uh this is staging yeahsave thatrename using git like this with the UI
is so confusing to me it is very weird
so I always use like you know command
commands because I can't I always don't
know like am I supposed to hit the check
above am I supposed to hit this yeah
yeah I've gotten used to it
andbut there's a I don't know it's it's a
weird habit whenever I pull stuff and
like merge stuff
or you know whenever I'm pulling from
origin I do it through CLI I don't know
why hmm
um as you saw just in case just in case
when you add to when you got to check
what's two plus twos and you got to pull
out the calculator calculator but it's
so satisfying to see there's like greens
just like you said when you do the pull
you're like oh it's like dopamine like a
dopamine Rush
yeah yeah I get it yeah
renamed the
GitHub actionsworkflows hello my studying asks are
they using terraform no this isdo you guys find yaml easier to read
than Jsonuh yeah yeah
I think
it's because I see yaml more than Jason
okay there was a time where I found
like Json better gotcha I feel like it's
like yeah for uh cloud formation at
least with AWS their IAC you can choose
between yaml and Json and it's like all
we've always I've always chosen me I'm
at my company I feel it's almost like a
personality test like if you choose Json
like I don't know like you're a
different kind of person than me that's
for sure did you choose that Json is not
really meant to be as much as people try
to like say that it is it's not really
meant to be read by humans and like but
like the cameras reads better like yeah
and comments and comments too that's
like the huge difference for me that
like helps out a ton it's like you can
document the heck out of that you can't
document Json it's like it's impossible
no you can't well and that's why a lot
of people like we have bicep which is an
abstraction above arm which is our
infrastructure's code which is all Jason
okay and everyone complains so much so
they made biceps a lot nicer to work
with than yeah but then it almost like
goes down to like I guess it compiles
into Json oh okay interesting but you
don't have to work with it because bicep
almost looks like terraform to me I
think yeah all right yeah it's really
close
the other day I was looking at it just
to like get a feel for it it is really
close to like like it makes sense
because I know terraform right
um whereas like cloud formation I
remember it's so different oh yeah so
different
um
okay so um what I'm doing right now is
learning about Branch protection rules
because we want to protect our main
branch to be only be merged by staging
and not every PR that you know our
community contributors create
so it tells me to go to github.com
navigate to the main page of the
Repository
click settings and then in the code and
automation section of the sidebar click
branches next to Branch protection rules
addokay
so what do I add into the rule
you can create a branch protection for
specific Branch all branches or any
branches that may imagine name pattern
you specify
for example to protect any branches
containing the world release you can
create a branch rule for Star release
star okay
you can create a rule for all current
and future Brands branches in your
upholstery with wild cardio
because GitHub uses file colon colon
I see
so you can use foil cardswill match all the okay we don't need
White cards if repository has multiple
protector branches that affect the same
branches the rules that include a
specific Branch name have the highest
priority
okaywhat is this for for Maine
yeah I'm trying to figure out how you
can protect me so I'm guessing
you can figure it out in here so based
on the documentation you have to go into
settingsyou have to go into branchesthe default branch is considered a base
branch in your repository against yeah
that's our main
and we don't have any branch protection
rules Define a protector Branch rule to
disable Force pushing prevent branches
from being deleted and optionally
requires sales status checks before
merging
we probably need those for both staging
and Main yeah and I'm glad our main is
default because I think that's why
nobody can delete it but
did thatso I think I just type in main here
you don't need like a asterisk or
anything like that that's for like if
someone else names it main Dash
something it'll also oh okay
yeah so we don't need to have this like
Rejects this would reject everything and
just use Main
no I'm saying like the pattern matching
is yeah yeah or just like wild cards and
stuff well I think just wildcards it's
not exactly rejects yeah
um I think it said it hereWild Card syntax okay yeah yeah Okay
cool so you can do like stars
um
to include a pattern
in the name
okay how do you
add like staging in here or is it a rule
do you do this per Branch yeah I think
you do this per Branch you can have
multiple rules and then you can check
off what you need
yeah
um
require a pull request before merging
probably yeah probablyI don't require assigned commits
required in your history required
deployments to succeed before emerging
branches read-only users cannot push to
branch do not allow about bypassing the
settings restrict who can push to
matchinghmm
so we require a pull request before
merging yes quiet approvals before
merging one yes
uh this Misty still pull request
approvals when new commits are Pew
pushed
no reviewable commits push to a matching
Branch will dismiss full request review
approval rules
uh I think we can leave that unchecked
because I do that sometimes where
like I create a polar question then
me and go and talk and we come up with
another idea and I'm like okay let me
include it into this pulling twist and
then I commit new code
um
require review from code owners yes
restrict who can dismiss pull request
reviewsno restrict who can dismiss pull request
reviews
yeah we can leave that unchecked allow
specific actors to bypass required pull
request no
require approval of the most recent push
yesum requires status checks to pass before
merging
so this is where our testing will come
into play
um
since we don't have any
skip for now okay yeah
um required conversation resolution
before merging yeah
requires signed commitsbut then
so remember what happened with day
uh yeah I would say yeah because country
is important
require linear history prevent mortgage
commits from being pushed to matching
branchesdo you want linear history I think we'll
run into a problem
because of I you know there could be
multiple PR's at a time yeah
[Music]
and this is another thing I would love
to have is like our staging deployment
to succeed
before yeah yeah I don't see why that
yeah that can happen
but can we add the deployment
environments
see this is where you know Azure devops
is like might be better yeah very well
integrated
with azure
the other thing I saw in the article
Gwen
this article here is they were able to
do this
like you know when you clicked
um GitHub here
so they're staging previews are on the
same app so they don't need to
have different static web appswhich is nice
but there might be a way to do it
there might be
um the the community question someone
asked in the forums
um they said the PM is looking into this
as a feature but the last comment was in
2022 like early 2022 oh
helpfulthe issue
and it's like this hasn't been updated
for like three years you're like a bunch
of comments oh I'm I'm doing the same
thing okay like can you let me know when
this gets included into the features uh
that's when you know you're treading new
ground you're like okay I guess I'm the
one to answer it
lock branch is read only no okay do not
allow bypassing the above settingsyeah because these are settings we're
supposed to respect as well
restrict who restrict who can push to
matching branches no
we won't have one main uh
the rules applied to everyone including
administrators
yesare we ready
[Music]
do we dareyeah we can come in and like change this
hopefully yeahimagine we lock ourselves out and now we
have to follow thisthat would be wildmulti-factor see this shows me that it's
serious we're gonna get locked outI'm looking to create my cloud resume
challenge I failed my cka exam it's okay
if I consider if I publish what I
considered why I failed and recommend
people some tips I learned or should I
only publish My Success activities
successful activities I'm assuming what
do people think about this
yes publish that
I would say
definitely I have a video of like why no
I failed my Linux certification
something like that it's like one of my
most popular ones highly recommend it
it's especially if you have figured out
why you don't do well I think that could
be pretty helpful yeah
uh I would just say be careful and not
be like
I failed this it's so hard I'm never
gonna figure it out don't be like that
you know no that's not useful for anyone
um but yeah if you can be honest and
provide some some advice there I would
say yeahwhere are we at Richard
uh I was looking at the environments you
can add environments but I'm just not
sure if it's only
GitHub Pages GitHub yeahNADA pong says Good Vibes how you doing
hi from India hi good morning
what time is it in India It's gotta be
like
well like early morning
fresh up I feel like you would know
what time it is in India
it's pretty late
someone said good morning I'm from India
yeah or early I guess 6 51 a.m I guess
for sure wouldn't knowI'm not sure if this what does this do
you can configure environments with
protection rules variables and secrets
maybe if you need secrets for different
environments
I see yeah yeah yeah yeah but it is only
I guess true for like GitHub Pages then
because I don't see any way to configure
static web apps as an environment here
let's eat that out
okay so going back to branches where are
we at right now so we have staging we
have to ICD for staging it pushes to the
dev
yeah web app now we need to connect that
that to go to main
yeah that's what we are waiting on now
okay we already locked the main
now we have to figure out how we merge
like okay
so we have to find a way that whenever a
PR gets created
it gets created for staging
okay
does it make sense
because right now if I open a PR it will
get created for main
I think but because of the rules it will
say Hey you cannot create a pull request
for me
uh how do we change the the switch where
GitHub detects that okay the the PRS
should be created for staging
and then we
merge staging into main hmm is that that
could be like on a repo uh options I
would feel like on a like a
setting okay default oh it says it right
here hey
hey the default branch is considered the
base branch in a repository against
which all pull requests and code commits
are automatically made unless you
specify a different branch we were about
to like try to figure this out no we're
following rishab's advice to read read
everything yes
read it
okay I'm gonna switch this okay now
okay so we're sure what that means when
we say default branch
yes okay excellent I think so because
there's no
like you know
small star or extra six let's read more
here you're in the danger zone right
hereI gotcha all rightthere it is I told youoh okay I see this yeah yeah yeah
they're saying we have open pull
requests that can be impacted we'll have
consequences because we have open pull
requests you have another one right now
yeah can you merge that please
okay
and then we can close the other one
because that one
I don't think we received a response
from the contributor for a while now
don't you love warning messages like oh
chill I know are you sure are you really
sure are you really sure like these
people are doing something serious
I'm gonna make sure you know the right
mindsetumNepali translations these were to the
contributors
and contributing
so Gwen checked in four days ago I
checked in last year in Octoberwhen am I okay to close this yeah go
ahead just leave a comment like Hey
we're closing this closing for yeah due
to
inactivityokay all right
I wish to editing uh configuration files
in Linux work like that like when before
they ask you oh do you want to say after
you say like are you sure you want to
save this
all right you change this interface you
got a lot you're going to get locked out
of your box okay yeahI can't merge rishab oh no
yep because we changed the rules we
locked you out it says merging is
blocked the base Branch requires all
commits to be signed wait this could be
a good test does she have to merge to
staging and then emerged Iknow it's weird I meanthat's weird I'm looking at what
signature verification basically means
oh that's good
um you can sign commits and tags locally
to give other people confidence about
the original chance you have made if
commit or tag has gpg
SSH
signature that is cryptographically
verifiable GitHub box the commit or tag
verified or partially verified for most
individual users gpg or SSH will be the
best choice for signing commits
SSS signatures are the simplest to
generate you can even upload your
existing authentication key to GitHub
okay now I remember why my commit is not
signed because my SS SSH key expired
on December 31st 2012. so what were youand then as like rishabh Kumar seven
like with my get user but I don't have
like like it uses HTTP authentication
rather than uh
um like SSH key yeah yeahso what would you have to do you'd have
to generate you have to do one set it up
and then commit againyeah that would be the
ideal way or I bypass
it now for this commit get this merged
yeah
and then
I think we would have to add a Wiki too
then Gwen because I feel like most of
the users are signed in as like SSH I
know over the https yeah over the httpe
um and they will be like
why can't I merge
but only if we don't turn it for staging
like we could leave it remain off for
staging yeah yeah yeah
all right let's turn it off for now and
then we'll
enable it later for Main
oh
settings
I'm like why this tab looks differentimagine if it doesn't let me do that
yeah that'd be Hilary
we'll see uhsigned there you gonow is the moment of shootah okay so let me refresh okay now I can
mergeawesome cool okay
so now we are good to update our default
Branch to staging now the real Moment of
Truthchanging your default Branch can have
unintended consequences that can affect
new pull requests and clones
so I guess our Forks are impacted by
this which is fine because we have
changed the architecture too much
alreadyokaywe are live I guess so now
staging is a default branchyepstaging is default
and this is the one that'll keep like
most up to date now we just have to keep
in mind that we have to merge
it to main every now and then
or like as we approve pull requests that
would yeah that should be the thing
right away we're emerging manually
yes
remember the approval thing yeah so but
what does that workflow look like it's
we get the pr it emerges and then
yeah we'll have to
right now what we have to do is
go into Main
it'll say you know implement or let's
say
you know Nicholas PlayStation PR right
now oh you like sync
yeah it'll say do you want to like sync
staging to main because it'll say like
you're behind two commands yeah you're
behind these many commits of staging
would you like to
merge it to Main and then that
sort of updating it that's pushes to to
prod to prod
okay yeah so right now if Nicholas opens
uh pull request
it will be merged to staging like we'll
see this the pull request here to be
the request will be for merging it to
staging
from staging to main is like our
responsibility of people who we choose
got it
cool so we accomplished this taskum yes testing was not part of it so I
won't say we didn't accomplish thisconsidering the future future features
yes testing will be part of this we'll
have to add some issues for testing like
but we also need to figure out what kind
of tests we want to yeah that's a good
question yeahyeah all right cool well we've been
streaming for like an hour and a half so
it's time to
get off thisum let me switch to
yeah the four there's four of us here oh
no no no hold on that makes me look like
[Laughter]well what did everyone learn it's pop
quiz time oh CJ how do what does it mean
when a commit is not signedI'm just kiddingum yeah oh yeah yeah it was cool not in
thumbs up right not in a wave yeah if we
figured it out
um
the worship how did you feel about
working on
on stream um
it was good I think
I felt like the only thing I was
concerned about is I've never done this
like I've done this with you Gwen but
that is more like casual you know
we speaking
stuff
um because we are not on stream right
and like there was a sense of you know
earlier
that
you know just the Imposter syndrome
kicking it
um
and I to be honest I thought it would be
easier
than this like the technical aspect of
this I thought it should be easier to
just have staging environments because
it's a built-in feature in static web
apps and we should be able to achieve it
within one app with one GitHub action
but that was not the case so from that
point like that aspect it was
challenging but that was fun
um and from the other aspect I had a
feeling that if this would be
uncomfortable
um at certain extent but it was fun
it helps you have other people who can
like entertain because when the issue
with live streaming is you know you do
have a chat that you
you kind of have to keep up with or
entertain to an extent so this is why
I've always not I can't understand how
people who just do like code and a live
stream can like accomplish focused work
because you kind of help us have the
back of your mind like oh there's an
audience so that's why I thought having
other people would kind of make it
easier for whoever it is actually doing
the work to focus
but I very much like this is like a
virtual co-working kind of thing
yeah yeah this was cool for sure
um for hanging out yeah yeah
and
I don't know that's it we plan on doing
this maybe
I would like to commit to like every
Sunday uh I'm not saying you guys have
to be here every single Sunday but I
worship and I will
uh and then having people hop on as
needed like but we could find tasks like
that sort of played to the strengths of
other people like we could find some
Powershell stuff to do yeah we don't
have any AWS stuff to do but we could do
something fun stuff no but this would be
great experience to like learn like it's
like sometimes you're gonna be learning
technology set like you never touched
like it's part of your job so like
that'd be perfect I'd be like hey let me
learn GitHub actions I don't really know
it that well let's like do that live you
know like yeah just like you were doing
rishab I mean this is almost like an
example of what you'll get a ticket in
your role and be like I've never done
this before but exactly I'm gonna try it
anyway and then like you go through the
process and then you do it and like
that's how you learn stuff or that's how
you know stuff it's just through to
having that like I don't know and then
like I kind of know a little more than I
did now so yeah definitely and yeah how
did you feel
I mean I didn't do much so I feel great
I just feel like emceeing so it's like
it makes it it removes the pressure for
me to like
Technical and
yeah but I enjoy hanging out with other
people it's like a really loud
motorcycle aside
it's gone
um
yeah I enjoy I've been wanting to do
more stuff with other people so this is
a great opportunity to do so
so I appreciate you both worship as
always appreciate you
we should be here next week at some
point turn notification on and whatnot
and if you have any interest in doing
any work and kind of like be on stream
and working through something with us
just comment on one of the issues in our
our GitHub project
and we can help you accomplish that
and that's it
I'll see everyone at some point
peace out thanks everyone